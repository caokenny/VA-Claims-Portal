<template>
    <lightning-card title="Create Claim">
        <div class="slds-m-around_medium">
            <!-- Claimant (Auto-filled) -->
            <lightning-input label="Claimant" value={claimantId} disabled></lightning-input>

            <!-- Claim Type Selection -->
            <lightning-combobox 
            label="Claim Type" 
            options={claimTypeOptions} 
            value={selectedType} 
            onchange={handleTypeChange}>
            </lightning-combobox>
        
            <!-- Conditional Fields Based on Claim Type -->
            <template if:true={showFields.disability}>
                <lightning-input label="Disability" name="Disability__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.dateOfInjury}>
                <lightning-input type="date" label="Date of Injury" name="Date_Of_Injury__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.serviceConnected}>
                <lightning-input type="checkbox" label="Service Connected" name="Service_Connected__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.annualIncome}>
                <lightning-input type="number" label="Annual Income" name="Annual_Income__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.currentlyHomeless}>
                <lightning-input type="checkbox" label="Currently Homeless?" name="Currently_Homeless__c" onchange={handleCurrentlyHomelessChange}></lightning-input>
            </template>

            <template if:true={showFields.atRiskofBeingHomeless}>
                <lightning-input type="checkbox" label="At Risk of Being Homeless" name="At_risk_of_being_homeless__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.housingStatus}>
                <lightning-combobox
                    label="Housing Status"
                    name="Housing_Status__c"
                    options={housingStatusOptions}
                    onchange={handleInputChange}>
                </lightning-combobox>
            </template>

            <template if:true={showFields.educationType}>
                <lightning-input label="Education Type" name="Education_Type__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.institutionName}>
                <lightning-input label="Institution Name" name="Institution_Name__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.degreeorCertificationProgram}>
                <lightning-input label="Degree or Certification Program" name="Degree_or_Certification_Program__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.startDate}>
                <lightning-input type="date" label="Start Date" name="Start_Date__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.expectedCompletionDate}>
                <lightning-input type="date" label="Expected Completion Date" name="Expected_Completion_Date__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.preferredVAFacility}>
                <lightning-input label="Preferred VA Facility" name="Preferred_VA_Facility__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.pensionEligibility}>
                <lightning-combobox
                    label="Pension Eligibility"
                    name="Pension_Eligibility__c"
                    options={pensionEligibilityOptions}
                    onchange={handleInputChange}>
                </lightning-combobox>
            </template>

            <template if:true={showFields.currentInsuranceProvider}>
                <lightning-input label="Current Insurance Provider" name="Current_Insurance_Provider__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.currentMedicationsorAllergies}>
                <lightning-input label="Current Medications or Allergies" name="Current_Medications_or_Allergies__c" onchange={handleInputChange}></lightning-input>
            </template>

            <template if:true={showFields.preferredCommunicationMethod}>
                <lightning-combobox
                    label="Preferred Communication Method"
                    name="Preferred_Communication_Method__c"
                    options={preferredCommunicationOptions}
                    onchange={handleInputChange}>
                </lightning-combobox>
            </template>

            <template if:true={showFields.comments}>
                <lightning-input label="Additonal Comments" name="Comments__c" onchange={handleInputChange}></lightning-input>
            </template>

            <!-- File Upload -->
            <lightning-file-upload
            label="Attach Supporting Documents"
            name="fileUploader"
            multiple
            record-id={claimRecordId} 
            onuploadfinished={handleFileUpload}>
            </lightning-file-upload>
            
            <!-- Submit Button -->
            <lightning-button label="Submit" variant="brand" onclick={handleSubmit} class="slds-m-top_medium"></lightning-button>
        </div>
    </lightning-card>
</template>
